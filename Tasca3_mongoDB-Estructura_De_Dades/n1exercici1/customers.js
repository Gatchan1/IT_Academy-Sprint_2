db.createCollection('customers', {validator: {$jsonSchema: {bsonType: 'object',title: 'customers',required: ['name','phone','registerDate'],properties:{name:{bsonType: 'string'},address:{bsonType: 'object',title: 'object',properties:{street:{bsonType: 'string'},number:{bsonType: 'int'},floor:{bsonType: 'string'},door:{bsonType: 'string'},city:{bsonType: 'string'},postalCode:{bsonType: 'string'},country:{bsonType: 'string'}}},phone:{bsonType: 'int'},email:{bsonType: 'string'},registerDate:{bsonType: 'timestamp'},recommenderId:{bsonType: 'objectId'},shoppings:{bsonType: 'array',items:{title: 'object',required: ['glasses','date','employee'],properties:{glasses:{bsonType: 'object',title: 'object',required: ['brand','price','graduation'],properties:{brand:{bsonType: 'object',title: 'object',required: ['name','supplier'],properties:{name:{bsonType: 'string'},supplier:{bsonType: 'object',title: 'object',required: ['name'],properties:{name:{bsonType: 'string'},address:{bsonType: 'object',title: 'object',properties:{street:{bsonType: 'string'},number:{bsonType: 'int'},floor:{bsonType: 'string'},door:{bsonType: 'string'},city:{bsonType: 'string'},postalCode:{bsonType: 'string'},country:{bsonType: 'string'}}},phone:{bsonType: 'int'},fax:{bsonType: 'int'},nif:{bsonType: 'string'}}}}},frame:{enum: ['rimless','horn-rimmed','metallic']},frameColor:{bsonType: 'string'},price:{bsonType: 'decimal'},graduation:{bsonType: 'object',title: 'object',required: ['left','right'],properties:{left:{bsonType: 'decimal'},right:{bsonType: 'decimal'}}},glassColor:{bsonType: 'object',title: 'object',properties:{left:{bsonType: 'decimal'},right:{bsonType: 'decimal'}}}}},date:{bsonType: 'timestamp'},employee:{bsonType: 'object',title: 'object',required: ['name'],properties:{name:{bsonType: 'string'},phone:{bsonType: 'int'}}}}}}}}}});